<div mat-dialog-title>
    <h1>{{isAdding ? 'Add User': 'Edit User'}}</h1>
</div>
<form [formGroup]="UserForm" (ngSubmit)="AddUser()" style="width: 560px;">

    <div mat-dialog-content class="content">
        <div class="row">
            <div class="col-5">
                <mat-form-field class="w-full">
                    <mat-label>ful Name</mat-label>
                    <input id="name" matInput [formControlName]="'name'" />
                    <mat-error
                        *ngIf="UserForm.get('name').hasError('required')"
                    >
                        Full name is required
                    </mat-error>
                </mat-form-field>

                <!-- Email field -->
                <mat-form-field class="w-full">
                    <mat-label>Email address</mat-label>
                    <input id="email" matInput [formControlName]="'email'" />
                    <mat-error
                        *ngIf="UserForm.get('email').hasError('required')"
                    >
                        Email address is required
                    </mat-error>
                    <mat-error
                        *ngIf="UserForm.get('email').hasError('email')"
                    >
                        Please enter a valid email address
                    </mat-error>
                </mat-form-field>

                <!-- Password field -->
                <mat-form-field class="w-full">
                    <mat-label>Password</mat-label>
                    <input
                        id="password"
                        matInput
                        type="password"
                        [formControlName]="'password'"
                        #passwordField
                    />
                    <button
                        mat-icon-button
                        type="button"
                        (click)="
                            passwordField.type === 'password'
                                ? (passwordField.type = 'text')
                                : (passwordField.type = 'password')
                        "
                        matSuffix
                    >
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="passwordField.type === 'password'"
                            [svgIcon]="'heroicons_solid:eye'"
                        ></mat-icon>
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="passwordField.type === 'text'"
                            [svgIcon]="'heroicons_solid:eye-slash'"
                        ></mat-icon>
                    </button>
                    <mat-error> Password is required </mat-error>
                </mat-form-field>

                <!-- tele field -->
                <ng-container
                            class="mr-1.5" >
                            <div class="relative flex">
                                <mat-form-field
                                    class="flex-auto"
                                    [subscriptSizing]="'dynamic'">
                                    <mat-label >Phone</mat-label>
                                    <!--  [formControl]="phoneNumber.get('phoneNumber')" -->
                                    <input formControlName="tele"
                                        matInput

                                        [placeholder]="'Phone'">
                                    <mat-select   [(ngModel)]="selectedCountry" name="selectedCountry" [ngModelOptions]="{standalone: true}"

                                        matPrefix>
                                        <!-- [formControl]="phoneNumber.get('country')" -->
                                        <mat-select-trigger >
                                            <span class="flex items-center">
                                                <span
                                                    class="hidden sm:flex w-6 h-4 mr-1 overflow-hidden"
                                                    [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                    [style.backgroundSize]="'24px 3876px'"
                                                     [style.backgroundPosition]="selectedCountry.flagImagePos"

                                                     ></span>

                                                <span class="sm:mx-0.5 font-medium text-default">{{selectedCountry.code}}</span>

                                            </span>
                                        </mat-select-trigger>
                                        <ng-container  >
                                            <mat-option [value]="country"   *ngFor="let country of countriesList;" >
                                                <span class="flex items-center">
                                                    <span
                                                        class="w-6 h-4 overflow-hidden"
                                                        [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                        [style.backgroundSize]="'24px 3876px'"
                                                        [style.backgroundPosition]="country.flagImagePos"
                                                        ></span>

                                                    <span class="ml-2">{{country.name}}</span>
                                                    <span class="ml-2 font-medium">{{country.code}}</span>
                                                </span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                </mat-form-field>
                                <br>


                            </div>
                        </ng-container>



            </div>

      <!-- Name field -->
   <div class="col-5">
    <!-- country field -->
    <mat-form-field class="w-full">
        <mat-label> Country</mat-label>
        <input
            id="country"
            matInput
            [formControlName]="'country'"
        />
        <mat-error
            *ngIf="UserForm.get('country').hasError('required')"
        >
        country is required
        </mat-error>
    </mat-form-field>


   <!-- address field -->
   <mat-form-field class="w-full" >
    <mat-label> Role</mat-label>
    <mat-select [formControl]="usercontrols" [formControlName]="'roles'" multiple>

        <mat-option *ngFor="let role of roles" [value]="role"
       >
          {{role.name}}
        </mat-option>
      </mat-select>
    <mat-error
        *ngIf="UserForm.get('roles').hasError('required')"
    >
        role address is required
    </mat-error>
</mat-form-field>
    <!-- sexe field-->

    <div class="flex flex-col mt-8 gt-sm:mt-0 gt-sm:ml-16" >
        <span class="font-semibold mb-2">Sexe</span>

        <mat-radio-group
            class="flex flex-col"
            [color]="'primary'"
            [value]="'just-good'"
            [formControlName]="'sexe'"
        >
            <mat-radio-button class="mb-2" [value]="'homme'">
                Homme
            </mat-radio-button>
            <mat-radio-button class="mb-2" [value]="'femme'">
                Femme
            </mat-radio-button>
        </mat-radio-group>
    </div>
   </div>

</div>

    </div>
    <div mat-dialog-actions class="action" style="margin-left: 370px;">
        <button mat-raised-button type="button" [mat-dialog-close]="false">Cancel</button>
        <button mat-raised-button color="primary"  type="submit">Save</button>
    </div>
</form>

